<div style="margin-top: 14px;">
  <button class="back-button" (click)="goBack()" mat-icon-button><mat-icon>arrow_back</mat-icon></button>
  <div style="margin-bottom: 15px;">
    @if (subscription) {
      <h2 style="text-align: center;">
        {{subscription.name}}
        @if (subscription.paused) {
          &nbsp;<ng-container i18n="Paused suffix">(Paused)</ng-container>
        }
      <button class="edit-button" (click)="editSubscription()" [disabled]="downloading" matTooltip="Edit" i18n-matTooltip="Edit" mat-icon-button><mat-icon class="save-icon">edit</mat-icon></button>
    </h2>
  }
  @if (subscription && subscription.downloading) {
    <mat-progress-bar style="width: 80%; margin: 0 auto; margin-top: 15px;" mode="indeterminate"></mat-progress-bar>
  }
</div>
<mat-divider style="width: 80%; margin: 0 auto"></mat-divider>
<br/>
<!-- Extra margin added for floating buttons to have room -->
@if (subscription) {
  <div style="margin-bottom: 100px;">
    <app-recent-videos #recentVideos [sub_id]="subscription.id"></app-recent-videos>
  </div>
}
<div class="check-button">
  @if (subscription.downloading) {
    <button color="primary" (click)="cancelCheckSubscription()" [disabled]="cancel_clicked" matTooltip="Cancel subscription check" i18n-matTooltip="Cancel subscription check" mat-fab><mat-icon class="save-icon">cancel</mat-icon></button>
  } @else {
    <button color="primary" (click)="checkSubscription()" [disabled]="check_clicked" matTooltip="Check subscription" i18n-matTooltip="Check subscription" mat-fab><mat-icon class="save-icon">youtube_searched_for</mat-icon></button>
  }
</div>
<button class="watch-button" color="primary" (click)="watchSubscription()" matTooltip="Play all" i18n-matTooltip="Play all" mat-fab><mat-icon class="save-icon">video_library</mat-icon></button>
<button class="save-button" color="primary" (click)="downloadContent()" [disabled]="downloading" matTooltip="Download zip" i18n-matTooltip="Download zip" mat-fab><mat-icon class="save-icon">save</mat-icon>
@if (downloading) {
  <mat-spinner class="spinner" [diameter]="50"></mat-spinner>
}
</button>
</div>